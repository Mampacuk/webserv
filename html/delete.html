<!DOCTYPE html>
<html>

<head>
  <title>Webserv Delete</title>
  <link rel="stylesheet" type="text/css" href="style/form.css">
</head>

<body>
  <form class="form" id="deleteForm">
    <div class="title">Welcome to webserv deleter!</div>
    <div class="subtitle">Let's delete a file.</div>
    <div class="input-container ic1">
      <input id="uri" class="input" type="text" placeholder=" " name="uri" />
      <div class="cut"></div>
      <label for="uri" class="placeholder">Resource</label>
    </div>
    
    <button type="text" class="submit">Delete</button>
</form>
  <script>
    document.getElementById("deleteForm").addEventListener("submit", function (e) {
      e.preventDefault(); // Prevent form submission

      var uri = document.getElementById("uri").value;

      // Send a DELETE request using Fetch API
      fetch(uri, {
        method: 'DELETE'
      })
        .then(function (response) {
          if (response.ok) {
            alert("File deleted successfully.");
          } else {
            alert("Failed to delete file. Status code: " + response.status);
          }
        })
        .catch(function (error) {
          alert("Request failed. Please try again later.");
        });
    });
  </script>
</body>

</html>